<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cuestionario Aleatorio</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 20px;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        form {
            background-color: #fff;
            padding: 20px;
            margin: 0 auto;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 600px;
        }
        .pregunta {
            margin-bottom: 40px; /* Aumenta la separación entre las preguntas */
        }
        .pregunta p {
            font-weight: bold;
            margin-bottom: 20px; /* Aumenta la separación entre el texto de la pregunta y las opciones */
            color: #555;
        }
        label {
            display: block;
            margin-bottom: 15px; /* Aumenta la separación entre las alternativas */
            padding-left: 10px;
        }
        input[type="radio"] {
            margin-right: 10px;
        }
        button {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        .correcta {
            color: green;
            font-weight: bold;
        }
        .incorrecta {
            color: red;
            font-weight: bold;
        }
        .resultado {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            font-size: 14px;
        }
        .correcta.resultado {
            background-color: #d4edda;
            color: #155724;
        }
        .incorrecta.resultado {
            background-color: #f8d7da;
            color: #721c24;
        }

    </style>
</head>
<body>

<h1>Cuestionario</h1>

<form id="cuestionario">
    <div id="preguntas"></div>
    <button type="button" onclick="validarRespuestas()">Validar Respuestas</button>
</form>

<script>
    const preguntas = [
        {
            pregunta: "Usted va por una calle de doble sentido de tránsito. Para virar a la izquierda, ¿dónde debería ubicarse?",
            opciones: ["Justo a la izquierda de la línea de centro de calzada", "Lo más a la derecha posible", "Justo a la derecha de la línea de centro de calzada"],
            correcta: 2
        },
        {
            pregunta: "Si a usted le realizan una prueba de alcoholemia y ha estado fumando, ¿le puede afectar el hecho de haber fumado en el resultado de la prueba?",
            opciones: ["Depende de la ingesta.", "Si", "No"],
            correcta: 2
        },
        {
            pregunta: "¿Qué precaución se debe tomar para conducir por una calzada cubierta con nieve?",
            opciones: ["Acelerar solo en las partes rectas, frenar antes de cada curva, para evitar la pérdida de control del vehículo.", "Evitar frenadas aceleradas, manteniendo una velocidad baja en el cambio más alto posible, para evitar que las ruedas patinen.", "Conducir siempre en la primera relación de marchas, porque al ser la más potente, el conductor podrá mantener el control del vehículo."],
            correcta: 1
        },
        {
            pregunta: "Con respecto al funcionamiento del vehículo, ¿qué afirmación es verdadera?",
            opciones: ["Casi siempre, el motor se enfría con un líquido refrigerante que circula por canales en el bloque del motor.", "Cuando el motor está siendo lubricado se enciende una luz testigo en el panel de instrumentos del vehículo", "Una batería mal cargada hace que el vehículo tenga un mejor arranque"],
            correcta: 0
        },
        {
            pregunta: "¿Cuál de estas afirmaciones es FALSA tratándose de conducción con niebla?",
            opciones: ["Con niebla se reduce la visibilidad", "Con niebla se aumenta la adherencia de los neumáticos.", "Con niebla existe el mismo peligro que cuando comienza a llover."],
            correcta: 1
        },
        {
            pregunta: "Al momento de un adelantamiento de un vehículo de grandes dimensiones, ¿dónde debe tener especial cuidado?",
            opciones: ["Al acceder y al salir de la sombra de viento que le proporcionará dicho vehículo durante la maniobra", "Detrás del vehículo de grandes dimensiones", "Al regresar a la pista"],
            correcta: 0
        },
        {
            pregunta: "En caso de un accidente vehicular, ¿el seguro obligatorio de accidentes personales cubre los daños a los vehículos involucrados?",
            opciones: ["No, pues solo ampara los riesgos de muerte y lesiones de las personas a consecuencia del accidente.", "Sí, hasta un 25% de los daños siempre y cuando se deje la constancia respectiva en la unidad policial más cercana al lugar del accidente.", "Sí, hasta un 50% de los daños siempre y cuando se deje la constancia respectiva en la unidad policial más cercana al lugar del accidente"],
            correcta: 0
        },
        {
            pregunta: "La sanción por participar en un siniestro de tránsito sin daños ni lesiones y huir del lugar es:",
            opciones: ["Una multa de 1 UTM.", "Una multa de 3 a 7 UTM y suspensión de la licencia de conductor hasta por 1 mes.", "Una multa de 1 a 3 UTM"],
            correcta: 1
        },
        {
            pregunta: "Si se duplica la velocidad del vehículo, ¿en qué proporción aumenta la distancia de frenado requerida?",
            opciones: ["6 veces.", "9 veces.", "4 veces."],
            correcta: 2
        },
        {
            pregunta: "Además de la luz roja de un semáforo, ¿qué otra luz obliga a detenerse a los vehículos antes de entrar en un cruce?",
            opciones: [" Luz amarilla intermitente.", "Luz roja intermitente.", "Luz amarilla no intermitente."],
            correcta: 2
        }
    ];

    let preguntasMezcladas = [];

    // Función para mezclar las preguntas
    function mezclar(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]]; // Intercambiar elementos
        }
        return array;
    }

    // Generar el cuestionario de preguntas mezcladas
    function generarCuestionario() {
        preguntasMezcladas = mezclar([...preguntas]); // Mezclar las preguntas y guardarlas
        const contenedorPreguntas = document.getElementById("preguntas");

        preguntasMezcladas.forEach((pregunta, index) => {
            const divPregunta = document.createElement("div");
            divPregunta.className = "pregunta";
            divPregunta.innerHTML = `<p>${pregunta.pregunta}</p>`;

            pregunta.opciones.forEach((opcion, i) => {
                const opcionHtml = `
                    <label>
                        <input type="radio" name="pregunta${index}" value="${i}">
                        ${opcion}
                    </label><br>
                `;
                divPregunta.innerHTML += opcionHtml;
            });

            contenedorPreguntas.appendChild(divPregunta);
        });
    }

    // Validar las respuestas
    function validarRespuestas() {
        preguntasMezcladas.forEach((pregunta, index) => {
            const opciones = document.getElementsByName(`pregunta${index}`);
            let seleccionada = -1;

            for (let i = 0; i < opciones.length; i++) {
                if (opciones[i].checked) {
                    seleccionada = parseInt(opciones[i].value);
                    break;
                }
            }

            const resultado = document.createElement("p");
            if (seleccionada === pregunta.correcta) {
                resultado.textContent = "Respuesta correcta";
                resultado.className = "correcta resultado";
            } else {
                resultado.textContent = "Respuesta incorrecta";
                resultado.className = "incorrecta resultado";
            }

            document.getElementsByTagName("div")[index + 1].appendChild(resultado); // Index + 1 por el div de preguntas
        });
    }

    window.onload = generarCuestionario;
</script>

</body>
</html>
