<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cuestionario Aleatorio</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 20px;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        form {
            background-color: #fff;
            padding: 20px;
            margin: 0 auto;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 600px;
        }
        .pregunta {
            margin-bottom: 40px; /* Aumenta la separaci칩n entre las preguntas */
        }
        .pregunta p {
            font-weight: bold;
            margin-bottom: 20px; /* Aumenta la separaci칩n entre el texto de la pregunta y las opciones */
            color: #555;
        }
        label {
            display: block;
            margin-bottom: 15px; /* Aumenta la separaci칩n entre las alternativas */
            padding-left: 10px;
        }
        input[type="radio"] {
            margin-right: 10px;
        }
        button {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        .correcta {
            color: green;
            font-weight: bold;
        }
        .incorrecta {
            color: red;
            font-weight: bold;
        }
        .resultado {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            font-size: 14px;
        }
        .correcta.resultado {
            background-color: #d4edda;
            color: #155724;
        }
        .incorrecta.resultado {
            background-color: #f8d7da;
            color: #721c24;
        }
        .respuesta-correcta {
            background-color: #f1fcdc; /* Fondo verde sutil */
            border-radius: 5px;
            padding: 5px;
        }
        .selector-preguntas {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
        }

        .selector-preguntas label {
            margin-right: 10px;
            font-weight: bold;
        }

        .selector-preguntas select {
            padding: 5px;
            font-size: 16px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

    </style>
</head>
<body>

<h1>Cuestionario</h1>
<div class="selector-preguntas">
    <label for="numPreguntas">N칰mero de preguntas: </label>
    <select id="numPreguntas" onchange="cargarPreguntas()">
        <option value="5">5</option>
        <option value="10">10</option>
        <option value="15">15</option>
        <option value="20">20</option>
        <option value="todas" selected>Todas</option>
    </select>
</div>

<form id="cuestionario">
    <div id="preguntas"></div>
    <button type="button" onclick="validarRespuestas()">Validar Respuestas</button>
    <div id="resultados"></div>
</form>

<script>
    const preguntas = [
        {
            pregunta: "Usted va por una calle de doble sentido de tr치nsito. Para virar a la izquierda, 쯗칩nde deber칤a ubicarse?",
            opciones: ["Justo a la izquierda de la l칤nea de centro de calzada", "Lo m치s a la derecha posible", "Justo a la derecha de la l칤nea de centro de calzada"],
            correcta: 2
        },
        {
            pregunta: "Si a usted le realizan una prueba de alcoholemia y ha estado fumando, 쯟e puede afectar el hecho de haber fumado en el resultado de la prueba?",
            opciones: ["Depende de la ingesta.", "Si", "No"],
            correcta: 2
        },
        {
            pregunta: "쯈u칠 precauci칩n se debe tomar para conducir por una calzada cubierta con nieve?",
            opciones: ["Acelerar solo en las partes rectas, frenar antes de cada curva, para evitar la p칠rdida de control del veh칤culo.", "Evitar frenadas aceleradas, manteniendo una velocidad baja en el cambio m치s alto posible, para evitar que las ruedas patinen.", "Conducir siempre en la primera relaci칩n de marchas, porque al ser la m치s potente, el conductor podr치 mantener el control del veh칤culo."],
            correcta: 1
        },
        {
            pregunta: "Con respecto al funcionamiento del veh칤culo, 쯤u칠 afirmaci칩n es verdadera?",
            opciones: ["Casi siempre, el motor se enfr칤a con un l칤quido refrigerante que circula por canales en el bloque del motor.", "Cuando el motor est치 siendo lubricado se enciende una luz testigo en el panel de instrumentos del veh칤culo", "Una bater칤a mal cargada hace que el veh칤culo tenga un mejor arranque"],
            correcta: 0
        },
        {
            pregunta: "쮺u치l de estas afirmaciones es FALSA trat치ndose de conducci칩n con niebla?",
            opciones: ["Con niebla se reduce la visibilidad", "Con niebla se aumenta la adherencia de los neum치ticos.", "Con niebla existe el mismo peligro que cuando comienza a llover."],
            correcta: 1
        },
        {
            pregunta: "Al momento de un adelantamiento de un veh칤culo de grandes dimensiones, 쯗칩nde debe tener especial cuidado?",
            opciones: ["Al acceder y al salir de la sombra de viento que le proporcionar치 dicho veh칤culo durante la maniobra", "Detr치s del veh칤culo de grandes dimensiones", "Al regresar a la pista"],
            correcta: 0
        },
        {
            pregunta: "En caso de un accidente vehicular, 쯘l seguro obligatorio de accidentes personales cubre los da침os a los veh칤culos involucrados?",
            opciones: ["No, pues solo ampara los riesgos de muerte y lesiones de las personas a consecuencia del accidente.", "S칤, hasta un 25% de los da침os siempre y cuando se deje la constancia respectiva en la unidad policial m치s cercana al lugar del accidente.", "S칤, hasta un 50% de los da침os siempre y cuando se deje la constancia respectiva en la unidad policial m치s cercana al lugar del accidente"],
            correcta: 0
        },
        {
            pregunta: "La sanci칩n por participar en un siniestro de tr치nsito sin da침os ni lesiones y huir del lugar es:",
            opciones: ["Una multa de 1 UTM.", "Una multa de 3 a 7 UTM y suspensi칩n de la licencia de conductor hasta por 1 mes.", "Una multa de 1 a 3 UTM"],
            correcta: 1
        },
        {
            pregunta: "Si se duplica la velocidad del veh칤culo, 쯘n qu칠 proporci칩n aumenta la distancia de frenado requerida?",
            opciones: ["6 veces.", "9 veces.", "4 veces."],
            correcta: 2
        },
        {
            pregunta: "Adem치s de la luz roja de un sem치foro, 쯤u칠 otra luz obliga a detenerse a los veh칤culos antes de entrar en un cruce?",
            opciones: [" Luz amarilla intermitente.", "Luz roja intermitente.", "Luz amarilla no intermitente."],
            correcta: 2
        },
        {
            pregunta: "El efecto despu칠s de fumar pasta base es r치pido e intenso, aparece en un lapso de segundos y dura algunos minutos",
            opciones: ["Verdadero.", "Falso."],
            correcta: 0
        },
        {
            pregunta: "쮺u치l de las siguientes opciones NO corresponde a una infracci칩n grav칤sima?",
            opciones: ["No respetar una se침al PARE.", "No respetar la luz roja de un sem치foro.", "No respetar el derecho preferente de un peat칩n"],
            correcta: 2
        },
        {
            pregunta: "쯈u칠 color de casco es menos recomendable para disminuir accidentes de tr치nsito?",
            opciones: ["Rojo.", "Caf칠 oscuro.", "Blanco"],
            correcta: 1
        },
        {
            pregunta: "Si el derrape es fuerte, como norma general:",
            opciones: ["No debe frenar ni desembragar", "Gire el volante hacia el lado al que NO se derrapan las ruedas traseras", "Levante el pie del acelerador"],
            correcta: 0
        },
        {
            pregunta: "Si una copa de vino arroja de promedio un porcentaje de concentraci칩n de alcohol de 0,40 g/l, 쯖u치l ser치 su estado al beber una copa de vino?",
            opciones: ["Quedar치 bajo el criterio del carabinero que lo fiscaliza y su posibilidad de sufrir un accidente aumentar치 el triple.", "Bajo la influencia del alcohol y su posibilidad de sufrir un siniestro aumentar치 al doble.", "En estado de ebriedad y la posibilidad de sufrir un siniestro aumentar치 5 veces."],
            correcta: 1
        },
        {
            pregunta: "쮺u치n mayor puede ser el riesgo de accidente para un conductor que presenta una tasa de alcohol en la sangre entre 0,3 y 0,5 g/l?",
            opciones: ["El riesgo de accidente con esa cantidad de alcohol en la sangre es cinco veces m치s que si no hubiera bebido.", "El riesgo de accidente con esa cantidad de alcohol en la sangre es el doble que si no hubiera bebido.", "No hay riesgo de accidente porque esa cantidad no afecta en los sentidos de la persona para conducir."],
            correcta: 1
        },
        {
            pregunta: "쮺u치l de las siguientes afirmaciones NO corresponde a las alteraciones de movimiento con respecto a la fatiga en el conductor?",
            opciones: ["Menor tiempo de reacci칩n.","Aparecen movimientos indicadores de fatiga: cambios de postura frecuentes, estiramientos, bostezos, constantes acomodos en el asiento, movimientos de las manos (como rascarse) o las llamadas conductas l칰dicas (como cantar, silbar o dar golpecitos r칤tmicos en el tablero).", "Ser치n m치s lentos e imprecisos.", "Disminuye el n칰mero de maniobras realizadas, por ejemplo, se corregir치 la trayectoria menos veces. "],
            correcta: 0
        },
        {
            pregunta: "De las siguientes capacidades de un individuo, 쯖u치l o cu치les de ellas NO se ve afectada por el consumo de alcohol?",
            opciones: ["El juicio acerca de la velocidad.", "Los tiempos de reacci칩n.", "Ninguna de las mencionadas.", "La coordinaci칩n"],
            correcta: 2
        },
        {
            pregunta: "Una persona va conduciendo a 50 km/h por un camino de asfalto plano, con buenas condiciones clim치ticas y en un veh칤culo con neum치ticos y frenos en buen estado. En estas circunstancias, 쯔proximadamente cu치nto se demora el conductor en detener su veh칤culo?",
            opciones: ["15 metros.", "65 metros.", "35 metros."],
            correcta: 2
        },
        {
            pregunta: "쯈u칠 significan las tachas rojas al costado de la v칤a?",
            opciones: ["Precauci칩n.", "Estacionamiento.", "Peligro, no deben ser cruzadas."],
            correcta: 2
        },
        {
            pregunta: "쯈u칠 efectos producen el sue침o al conducir?",
            opciones: ["(Microsue침os). Ocurren muchos accidentes por esta causa, ya que suelen pasar inadvertidos.", "Disminuci칩n de la capacidad de reacci칩n (aumenta el tiempo de reacci칩n) y de percepci칩n (se precisan est칤mulos m치s altos).", "Visi칩n borrosa, fatiga ocular y mayor sensibilidad al deslumbramiento.", "Todas las mencionadas."],
            correcta: 3
        },
        {
            pregunta: "Usted va a 70 km/h. Aproximadamente, 쯤u칠 distancia recorrer치 su veh칤culo desde el momento en que usted se percata de un peligro que hay m치s adelante hasta que comienza a frenar?",
            opciones: ["Unos 8 metros.", "Unos 20 metros.", "Unos 5 metros."],
            correcta: 1
        }
    ];

    let preguntasMezcladas = [];

    

    // Funci칩n para mezclar las preguntas
    function mezclar(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]]; // Intercambiar elementos
        }
        return array;
    }


    function validarRespuestas() {
        let correctas = 0;
        let incorrectas = 0;

        const contenedorPreguntas = document.getElementById("preguntas").children;

        Array.from(contenedorPreguntas).forEach((divPregunta, index) => {
            const opciones = document.getElementsByName(`pregunta${index}`);
            let seleccionada = -1;

            for (let i = 0; i < opciones.length; i++) {
                if (opciones[i].checked) {
                    seleccionada = parseInt(opciones[i].value);
                    break;
                }
            }

            const resultado = document.createElement("p");
            if (seleccionada === preguntasMezcladas[index].correcta) {
                resultado.textContent = "Respuesta correcta";
                resultado.className = "correcta resultado";
                correctas++;
            } else {
                resultado.textContent = "Respuesta incorrecta";
                resultado.className = "incorrecta resultado";
                incorrectas++;

                if (opciones[preguntasMezcladas[index].correcta]) {
                    opciones[preguntasMezcladas[index].correcta].parentElement.classList.add("respuesta-correcta");
                }
            }

            divPregunta.appendChild(resultado);
        });

        // Mostrar los resultados finales
        const contenedorResultados = document.getElementById("resultados");
        contenedorResultados.innerHTML = `
            <p class="correcta">Respuestas correctas: ${correctas}</p>
            <p class="incorrecta">Respuestas incorrectas: ${incorrectas}</p>
        `;

        // Actualizar el icono de la cara seg칰n el resultado
        actualizarIconoCara(correctas, preguntasMezcladas.length, contenedorResultados);
    }

    function actualizarIconoCara(correctas, total, contenedor) {
        let carita = '';
        if (correctas === total) {
            carita = generarFraseRomantica() + ' 游땕'; // Todas correctas
        } else if (correctas > 0) {
            carita = '=/'; // Algunas correctas
        } else {
            carita = '游'; // Ninguna correcta
        }
        const caritaResultado = document.createElement("p");
        caritaResultado.style.fontSize = "24px";
        caritaResultado.textContent = `Resultado: ${carita}`;
        contenedor.appendChild(caritaResultado);
    }

    const sujetos = [
    "Tu sonrisa",
    "Tus ojos",
    "Tu voz",
    "Tu presencia",
    "Tu risa",
    "Tu mirada",
    "Tu alma",
    "Tu ser",
    "Tu dulzura",
    "Tu ternura"
    ];

    const verbos = [
        "ilumina",
        "alegra",
        "conquista",
        "inspira",
        "embellece",
        "completa",
        "enriquece",
        "colorea",
        "enciende",
        "transforma"
    ];

    const adverbios = [
        "profundamente",
        "eternamente",
        "infinitamente",
        "sinceramente",
        "apasionadamente",
        "dulcemente",
        "intensamente",
        "ardientemente",
        "inexplicablemente",
        "maravillosamente"
    ];

    const complementos = [
        "mi coraz칩n",
        "mi alma",
        "mi mundo",
        "mi vida",
        "mis d칤as",
        "mis noches",
        "mis sue침os",
        "mis pensamientos",
        "mi existencia",
        "mi universo"
    ];

    const adjetivos = [
        "hermoso",
        "maravilloso",
        "incre칤ble",
        "m치gico",
        "especial",
        "칰nico",
        "radiante",
        "espl칠ndido",
        "sublime",
        "encantador"
    ];

    function generarFraseRomantica() {
        const sujeto = sujetos[Math.floor(Math.random() * sujetos.length)];
        const verbo = verbos[Math.floor(Math.random() * verbos.length)];
        const adverbio = adverbios[Math.floor(Math.random() * adverbios.length)];
        const complemento = complementos[Math.floor(Math.random() * complementos.length)];
        const adjetivo = adjetivos[Math.floor(Math.random() * adjetivos.length)];
        return `${sujeto} ${verbo} ${adverbio} ${complemento}`;
    }





    // Funci칩n para cargar el n칰mero de preguntas seleccionadas
    function cargarPreguntas() {
        const selectElement = document.getElementById("numPreguntas");
        const numPreguntasSeleccionadas = selectElement.value === "todas" ? preguntas.length : parseInt(selectElement.value);

        // Mezclar y seleccionar las primeras 'numPreguntasSeleccionadas' preguntas
        preguntasMezcladas = mezclar([...preguntas]).slice(0, numPreguntasSeleccionadas);

        // Limpiar el contenedor de preguntas antes de cargar nuevas
        const contenedorPreguntas = document.getElementById("preguntas");
        contenedorPreguntas.innerHTML = ""; 

        // Generar el cuestionario con el n칰mero de preguntas seleccionadas
        preguntasMezcladas.forEach((pregunta, index) => {
            const divPregunta = document.createElement("div");
            divPregunta.className = "pregunta";
            divPregunta.innerHTML = `<p><strong style='color:black;font-weight:bold'>${index + 1}:</strong> ${pregunta.pregunta}</p>`;

            pregunta.opciones.forEach((opcion, i) => {
                const opcionHtml = `
                    <label>
                        <input type="radio" name="pregunta${index}" value="${i}">
                        ${opcion}
                    </label><br>
                `;
                divPregunta.innerHTML += opcionHtml;
            });

            contenedorPreguntas.appendChild(divPregunta);
        });
    }

    // Ejecutar la funci칩n al cargar la p치gina para que el cuestionario se cargue seg칰n el valor predeterminado del combobox
    window.onload = cargarPreguntas;

</script>

</body>
</html>
