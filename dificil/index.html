<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cuestionario Aleatorio</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 20px;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        form {
            background-color: #fff;
            padding: 20px;
            margin: 0 auto;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 600px;
        }
        .pregunta {
            margin-bottom: 40px; /* Aumenta la separaci칩n entre las preguntas */
        }
        .pregunta p {
            font-weight: bold;
            margin-bottom: 20px; /* Aumenta la separaci칩n entre el texto de la pregunta y las opciones */
            color: #555;
        }
        label {
            display: block;
            margin-bottom: 15px; /* Aumenta la separaci칩n entre las alternativas */
            padding-left: 10px;
        }
        input[type="radio"] {
            margin-right: 10px;
        }
        button {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        .correcta {
            color: green;
            font-weight: bold;
        }
        .incorrecta {
            color: red;
            font-weight: bold;
        }
        .resultado {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            font-size: 14px;
        }
        .correcta.resultado {
            background-color: #d4edda;
            color: #155724;
        }
        .incorrecta.resultado {
            background-color: #f8d7da;
            color: #721c24;
        }
        .respuesta-correcta {
            background-color: #f1fcdc; /* Fondo verde sutil */
            border-radius: 5px;
            padding: 5px;
        }
        .selector-preguntas {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
        }

        .selector-preguntas label {
            margin-right: 10px;
            font-weight: bold;
        }

        .selector-preguntas select {
            padding: 5px;
            font-size: 16px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        /* Media query para pantallas m칩viles (por debajo de 600px de ancho) */
        @media only screen and (max-width: 600px) {
            body {
                font-size: 18px; /* Aumenta el tama침o del texto para m칩viles */
            }

            h1 {
                font-size: 24px; /* Aumenta el tama침o del t칤tulo en m칩viles */
            }

            button {
                font-size: 18px; /* Aumenta el tama침o del texto del bot칩n en m칩viles */
            }

            .pregunta p {
                font-size: 19px; /* Aumenta el tama침o del texto de las preguntas en m칩viles */
            }

            label {
                font-size: 19px; /* Aumenta el tama침o del texto de las opciones en m칩viles */
            }
        }
    </style>
</head>
<body>

<h1>Cuestionario</h1>
<div class="selector-preguntas">
    <label for="numPreguntas">N칰mero de preguntas: </label>
    <select id="numPreguntas" onchange="cargarPreguntas()">
        <option value="5">5</option>
        <option value="10">10</option>
        <option value="15">15</option>
        <option value="20">20</option>
        <option value="todas" selected>Todas</option>
    </select>
</div>

<form id="cuestionario">
    <div id="preguntas"></div>
    <button type="button" onclick="validarRespuestas()">Validar Respuestas</button>
    <div id="resultados"></div>
</form>

<p>rama main</p>
<script>
    const preguntas = [
        {
            "pregunta": "La OMS considera los siniestros de tr치nsito como problema prioritario:",
            "opciones": [
                "Por la cantidad de infracciones.",
                "Por el dinero gastado en los siniestros.",
                "Por la cantidad de muertes ocurridas.",
                "Por la cantidad de j칩venes con licencia."
            ],
            "correcta": 2
        },
        {
            "pregunta": "Los siniestros de tr치nsito:",
            "opciones": [
                "Tienen como consecuencia s칩lo la muerte.",
                "Somos conscientes del problema pero no hacemos nada.",
                "Se reducen con leyes m치s r칤gidas.",
                "Son un problema de primer orden."
            ],
            "correcta": 3
        },
        {
            "pregunta": "쮺u치l es la raz칩n m치s importante por la que se deben mantener los neum치ticos a la presi칩n indicada por el fabricante?",
            "opciones": [
                "Para evitar que el autom칩vil patine.",
                "Para mantener el veh칤culo a la altura correcta sobre la v칤a.",
                "Para impedir que el autom칩vil se incline hacia un lado."
            ],
            "correcta": 0
        },
        {
            "pregunta": "En los motores de dos tiempos, 쯖칩mo debe ser el silenciador?",
            "opciones": [
                "M치s resistente, para aprovechar al m치ximo la potencia del motor.",
                "Menos resistente, para aprovechar al m치ximo la potencia del motor.",
                "M치s resistente, para aprovechar al m치ximo el sistema de escape."
            ],
            "correcta": 0
        },
        {
            "pregunta": "쮺u치ntos tipos de frenos poseen las motocicletas (sistema hidr치ulico)?",
            "opciones": [
                "Solo 1.",
                "2, independientes.",
                "3, independientes.",
                "2, dependientes."
            ],
            "correcta": 1
        },
        {
            "pregunta": "쯈u칠 significa que un neum치tico est칠 're-dibujado'?",
            "opciones": [
                "Que evidencie profundizaciones de los surcos en la banda de rodamiento.",
                "Que muestra alteraciones en su 칤ndice de carga.",
                "Que haya perdido sus condiciones de adherencia al pavimento."
            ],
            "correcta": 0
        },
        {
            "pregunta": "Generalmente, 쮻칩nde va situado el termostato en un motor?",
            "opciones": [
                "En el bloque motor, en la salida del l칤quido hacia el radiador.",
                "En el vaso de expansi칩n no permitiendo el paso de l칤quido refrigerante hasta que haya alcanzado la temperatura adecuada.",
                "En el dep칩sito de refrigerante.",
                "En el radiador."
            ],
            "correcta": 0
        },
        {
            "pregunta": "쮺칩mo podemos detectar que un amortiguador se encuentra en mal estado?",
            "opciones": [
                "Al frenar, el veh칤culo se inclina demasiado hacia delante y se levanta de atr치s.",
                "Al circular, el veh칤culo no se balancea.",
                "Los neum치ticos se desgastan de manera regular.",
                "Durante la marcha, NO se notan las alteraciones del camino."
            ],
            "correcta": 0
        },
        {
            "pregunta": "En cuanto al manejo de luces en un encuentro. 쯈u칠 afirmaci칩n es correcta?",
            "opciones": [
                "Baje sus luces lo m치s r치pido posible para evitar un accidente.",
                "Baje sus luces con suficiente anticipaci칩n, pero no lo haga demasiado pronto.",
                "Suba sus luces con anticipaci칩n suficiente."
            ],
            "correcta": 1
        },
        {
            "pregunta": "Con respecto al sistema de escape..indique la afirmaci칩n INCORRECTA:",
            "opciones": [
                "Un sistema de escape de gases oxidado puede hacer que penetre mon칩xido de carbono al interior del veh칤culo.",
                "Los gases de escape no son peligrosos para la salud de las personas y los vapores de la gasolina son inocuos.",
                "Los gases de escape contienen mon칩xido de carbono, que carece de olor y es incoloro."
            ],
            "correcta": 1
        },
        {
            "pregunta": "쮻e qu칠 forma se calcula la distancia de reacci칩n?",
            "opciones": [
                "Usted puede estimar aproximadamente la distancia de reacci칩n, multiplicando por cinco la primera cifra de la velocidad.",
                "Usted puede estimar aproximadamente la distancia de reacci칩n, multiplicando por cuatro la primera cifra de la velocidad.",
                "Usted puede estimar aproximadamente la distancia de reacci칩n, multiplicando por tres la primera cifra de la velocidad."
            ],
            "correcta": 2
        },
        {
            "pregunta": "쮺u치ndo NO ser치 importante usar los espejos retrovisores de su veh칤culo?",
            "opciones": [
                "Antes de cambiarse de pista y adelantar.",
                "Antes de se침alizar.",
                "Antes de hacer partir el motor al arrancar."
            ],
            "correcta": 2
        },
        {
            "pregunta": "Una de las causas de que el motor de arranque No funcione es:",
            "opciones": [
                "Bobina en mal estado.",
                "Bornes de la bater칤a sulfatados.",
                "Cables de las buj칤as desconectados."
            ],
            "correcta": 1
        },
        {
            "pregunta": "쮸 qu칠 elemento va sujeta la horquilla delantera?",
            "opciones": [
                "Amortiguadores telesc칩picos.",
                "Chasis.",
                "Espiral."
            ],
            "correcta": 1
        },
        {
            "pregunta": "Para verificar el correcto funcionamiento de la luz de freno trasera debemos...",
            "opciones": [
                "Accionar solo el freno delantero.",
                "Accionar solo el freno trasero.",
                "Accionar ambos frenos a la vez o cada uno por separado."
            ],
            "correcta": 2
        }

    ];

    let preguntasMezcladas = [];

    

    // Funci칩n para mezclar las preguntas
    function mezclar(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]]; // Intercambiar elementos
        }
        return array;
    }


    function validarRespuestas() {
        let correctas = 0;
        let incorrectas = 0;

        const contenedorPreguntas = document.getElementById("preguntas").children;

        Array.from(contenedorPreguntas).forEach((divPregunta, index) => {
            const opciones = document.getElementsByName(`pregunta${index}`);
            let seleccionada = -1;

            for (let i = 0; i < opciones.length; i++) {
                if (opciones[i].checked) {
                    seleccionada = parseInt(opciones[i].value);
                    break;
                }
            }

            const resultado = document.createElement("p");
            if (seleccionada === preguntasMezcladas[index].correcta) {
                resultado.textContent = "Respuesta correcta";
                resultado.className = "correcta resultado";
                correctas++;
            } else {
                resultado.textContent = "Respuesta incorrecta";
                resultado.className = "incorrecta resultado";
                incorrectas++;

                if (opciones[preguntasMezcladas[index].correcta]) {
                    opciones[preguntasMezcladas[index].correcta].parentElement.classList.add("respuesta-correcta");
                }
            }

            divPregunta.appendChild(resultado);
        });

        // Mostrar los resultados finales
        const contenedorResultados = document.getElementById("resultados");
        contenedorResultados.innerHTML = `
            <p class="correcta">Respuestas correctas: ${correctas}</p>
            <p class="incorrecta">Respuestas incorrectas: ${incorrectas}</p>
        `;

        // Actualizar el icono de la cara seg칰n el resultado
        actualizarIconoCara(correctas, preguntasMezcladas.length, contenedorResultados);
    }

    function actualizarIconoCara(correctas, total, contenedor) {
        let carita = '';
        if (correctas === total) {
            carita = generarFraseRomantica() + ' 游땕'; // Todas correctas
        } else if (correctas > 0) {
            carita = '=/'; // Algunas correctas
        } else {
            carita = '游'; // Ninguna correcta
        }
        const caritaResultado = document.createElement("p");
        caritaResultado.style.fontSize = "24px";
        caritaResultado.textContent = `Resultado: ${carita}`;
        contenedor.appendChild(caritaResultado);
    }

    const sujetos = [
    "Tu sonrisa",
    "Tus ojos",
    "Tu voz",
    "Tu presencia",
    "Tu risa",
    "Tu mirada",
    "Tu alma",
    "Tu ser",
    "Tu dulzura",
    "Tu ternura"
    ];

    const verbos = [
        "ilumina",
        "alegra",
        "conquista",
        "inspira",
        "embellece",
        "completa",
        "enriquece",
        "colorea",
        "enciende",
        "transforma"
    ];

    const adverbios = [
        "profundamente",
        "eternamente",
        "infinitamente",
        "sinceramente",
        "apasionadamente",
        "dulcemente",
        "intensamente",
        "ardientemente",
        "inexplicablemente",
        "maravillosamente"
    ];

    const complementos = [
        "mi coraz칩n",
        "mi alma",
        "mi mundo",
        "mi vida",
        "mis d칤as",
        "mis noches",
        "mis sue침os",
        "mis pensamientos",
        "mi existencia",
        "mi universo"
    ];

    const adjetivos = [
        "hermoso",
        "maravilloso",
        "incre칤ble",
        "m치gico",
        "especial",
        "칰nico",
        "radiante",
        "espl칠ndido",
        "sublime",
        "encantador"
    ];

    function generarFraseRomantica() {
        const sujeto = sujetos[Math.floor(Math.random() * sujetos.length)];
        const verbo = verbos[Math.floor(Math.random() * verbos.length)];
        const adverbio = adverbios[Math.floor(Math.random() * adverbios.length)];
        const complemento = complementos[Math.floor(Math.random() * complementos.length)];
        const adjetivo = adjetivos[Math.floor(Math.random() * adjetivos.length)];
        return `${sujeto} ${verbo} ${adverbio} ${complemento}`;
    }





    // Funci칩n para cargar el n칰mero de preguntas seleccionadas
    function cargarPreguntas() {
        const selectElement = document.getElementById("numPreguntas");
        const numPreguntasSeleccionadas = selectElement.value === "todas" ? preguntas.length : parseInt(selectElement.value);

        // Mezclar y seleccionar las primeras 'numPreguntasSeleccionadas' preguntas
        preguntasMezcladas = mezclar([...preguntas]).slice(0, numPreguntasSeleccionadas);

        // Limpiar el contenedor de preguntas antes de cargar nuevas
        const contenedorPreguntas = document.getElementById("preguntas");
        contenedorPreguntas.innerHTML = ""; 

        // Generar el cuestionario con el n칰mero de preguntas seleccionadas
        preguntasMezcladas.forEach((pregunta, index) => {
            const divPregunta = document.createElement("div");
            divPregunta.className = "pregunta";
            divPregunta.innerHTML = `<p><strong style='color:black;font-weight:bold'>${index + 1}:</strong> ${pregunta.pregunta}</p>`;

            pregunta.opciones.forEach((opcion, i) => {
                const opcionHtml = `
                    <label>
                        <input type="radio" name="pregunta${index}" value="${i}">
                        ${opcion}
                    </label><br>
                `;
                divPregunta.innerHTML += opcionHtml;
            });

            contenedorPreguntas.appendChild(divPregunta);
        });
    }

    // Ejecutar la funci칩n al cargar la p치gina para que el cuestionario se cargue seg칰n el valor predeterminado del combobox
    window.onload = cargarPreguntas;

</script>

</body>
</html>
