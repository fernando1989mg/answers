<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cuestionario Aleatorio</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            margin: 0;
            padding: 20px;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        form {
            background-color: #fff;
            padding: 20px;
            margin: 0 auto;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 600px;
        }
        .pregunta {
            margin-bottom: 40px; /* Aumenta la separaci√≥n entre las preguntas */
        }
        .pregunta p {
            font-weight: bold;
            margin-bottom: 20px; /* Aumenta la separaci√≥n entre el texto de la pregunta y las opciones */
            color: #555;
        }
        label {
            display: block;
            margin-bottom: 15px; /* Aumenta la separaci√≥n entre las alternativas */
            padding-left: 10px;
        }
        input[type="radio"] {
            margin-right: 10px;
        }
        button {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        .correcta {
            color: green;
            font-weight: bold;
        }
        .incorrecta {
            color: red;
            font-weight: bold;
        }
        .resultado {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            font-size: 14px;
        }
        .correcta.resultado {
            background-color: #d4edda;
            color: #155724;
        }
        .incorrecta.resultado {
            background-color: #f8d7da;
            color: #721c24;
        }
        .respuesta-correcta {
            background-color: #f1fcdc; /* Fondo verde sutil */
            border-radius: 5px;
            padding: 5px;
        }
        .selector-preguntas {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
        }

        .selector-preguntas label {
            margin-right: 10px;
            font-weight: bold;
        }

        .selector-preguntas select {
            padding: 5px;
            font-size: 16px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        /* Media query para pantallas m√≥viles (por debajo de 600px de ancho) */
        @media only screen and (max-width: 600px) {
            body {
                font-size: 18px; /* Aumenta el tama√±o del texto para m√≥viles */
            }

            h1 {
                font-size: 24px; /* Aumenta el tama√±o del t√≠tulo en m√≥viles */
            }

            button {
                font-size: 18px; /* Aumenta el tama√±o del texto del bot√≥n en m√≥viles */
            }

            .pregunta p {
                font-size: 19px; /* Aumenta el tama√±o del texto de las preguntas en m√≥viles */
            }

            label {
                font-size: 19px; /* Aumenta el tama√±o del texto de las opciones en m√≥viles */
            }
        }
    </style>
</head>
<body>

<h1>Cuestionario</h1>
<div class="selector-preguntas">
    <label for="numPreguntas">N√∫mero de preguntas: </label>
    <select id="numPreguntas" onchange="cargarPreguntas()">
        <option value="5">5</option>
        <option value="10">10</option>
        <option value="15">15</option>
        <option value="20">20</option>
        <option value="todas" selected>Todas</option>
    </select>
</div>

<form id="cuestionario">
    <div id="preguntas"></div>
    <button type="button" onclick="validarRespuestas()">Validar Respuestas</button>
    <div id="resultados"></div>
</form>

<p>rama main</p>
<script>
    const preguntas = [
        {
            "pregunta": "El alcohol se detecta en la sangre 5 minutos despu√©s de haber sido ingerido, mientras que la tasa de alcoholemia alcanza su nivel m√°ximo en promedio:",
            "opciones": [
                "En 1 hora despu√©s de haber tomado",
                "En 5 minutos despu√©s de haber tomado",
                "En 30 minutos despu√©s de haber tomado"
            ],
            "correcta": 0
        },
        {
            "pregunta": "En el uso de medicamentos en la conducci√≥n, ¬øCu√°l de las siguientes afirmaciones es verdadera?",
            "opciones": [
            "Algunos medicamentos disminuyen la atenci√≥n y aumentan el tiempo de reacci√≥n al conducir.",
            "Los medicamentos no afectan la capacidad de conducir.",
            "En ning√∫n caso se debe conducir mientras se toman medicamentos."
            ],
            "correcta": 0
        },
        {
            "pregunta": "El alcohol se detecta en la sangre 5 minutos despu√©s de haber sido ingerido, mientras que la tasa de alcoholemia alcanza su nivel m√°ximo en promedio:",
            "opciones": [
            "En 1 hora despu√©s de haber tomado",
            "En 5 minutos despu√©s de haber tomado",
            "En 30 minutos despu√©s de haber tomado"
            ],
            "correcta": 0
        },
        {
            "pregunta": "¬øCu√°l (es) de las siguientes afirmaciones es (son) verdaderas en relaci√≥n al cambio de aceite de un veh√≠culo?",
            "opciones": [
            "Los cambios de aceite son mayormente innecesarios, salvo cuando falla el filtro.",
            "Si se realizan cambios de aceite con mayor frecuencia a la estipulada por los fabricantes el sistema de lubricaci√≥n aumentar√° el rozamiento.",
            "Si el cambio de aceite no se realiza con la frecuencia estipulada por el fabricante, el motor se desgastar√°."
            ],
            "correcta": 2
        },
        {
            "pregunta": "¬øCu√°ntos ni√±os y adolescentes fallecieron durante la √∫ltima d√©cada en Chile debido a los accidentes de tr√°nsito aproximadamente?",
            "opciones": [
            "550 ni√±os y adolescentes",
            "497 ni√±os y adolescentes",
            "800 ni√±os y adolescentes",
            "1007 ni√±os y adolescentes"
            ],
            "correcta": 1
        },
        {
            "pregunta": "Teniendo en cuenta las estad√≠sticas de siniestros en Chile, ¬øqu√© afirmaci√≥n es correcta?",
            "opciones": [
            "La mayor parte de los fallecidos por siniestros de tr√°nsito se produce en v√≠as interurbanas o no urbanas.",
            "El grupo etario de mayor accidentabilidad son los j√≥venes, entre 18 y 20 a√±os",
            "Los per√≠odos de mayor accidentabilidad coinciden con los d√≠as lunes"
            ],
            "correcta": 0
        },
        {
            "pregunta": "Encuestas a nivel mundial estiman que las mujeres j√≥venes:",
            "opciones": [
            "Subvaloran su capacidad para conducir.",
            "Sobreestiman su habilidad para conducir.",
            "Creen que los accidentes dependen del tr√°nsito."
            ],
            "correcta": 0
        },
        {
            "pregunta": "Para una mejor visibilidad de los motociclistas, los cascos deben contar con:",
            "opciones": [
            "√Åreas retrorreflectantes de color azul en su parte posterior",
            "√Åreas retrorreflectantes de color amarillo en sus partes laterales.",
            "√Åreas retrorreflectantes de color rojo en su parte posterior y laterales.",
            "√Åreas retrorreflectantes de color blanco en su parte posterior y laterales."
            ],
            "correcta": 3
        },
        {
            "pregunta": "¬øQu√© provoca el di√≥xido de carbono seg√∫n el libro para la conducci√≥n en Chile?",
            "opciones": [
            "Provoca irritaci√≥n en las mucosas y el sistema respiratorio",
            "Provoca lesiones en el sistema nervioso central.",
            "Contribuye al efecto invernadero."
            ],
            "correcta": 2
        },
        {
            "pregunta": "¬øQu√© deber√≠a hacer un conductor al aproximarse a una cima y tiene poca visibilidad?",
            "opciones": [
            "Reducir obligatoriamente la velocidad y mantenerse a la derecha",
            "Situarse al centro de la calzada para tener una mejor visibilidad en la c√∫spide de la cima",
            "Aumentar la velocidad para reducir el tiempo de poca visibilidad"
            ],
            "correcta": 0
        },
        {
            "pregunta": "La fatiga al momento de conducir provoca alteraciones en la toma de decisiones de un conductor, ¬øCu√°l no ser√≠a una de ellas?",
            "opciones": [
            "La cantidad y calidad de informaci√≥n que se recoge del entorno disminuye, lo que facilita malinterpretar situaciones o comportamientos de los dem√°s.",
            "El tiempo de reacci√≥n se incrementar√°, lo que facilitar√° el ver los obst√°culos con mayor eficacia reduciendo situaciones de peligro.",
            "El razonamiento del conductor estar√° gravemente afectado y probablemente las decisiones que tome no ser√°n las m√°s adecuadas o las m√°s seguras."
            ],
            "correcta": 1
        },
        {
            "pregunta": "Un denominador com√∫n entre los nuevos conductores es que:",
            "opciones": [
            "Creen que los accidentes dependen del tr√°nsito.",
            "Se consideran peores que el promedio.",
            "Se consideran mejores que el promedio."
            ],
            "correcta": 2
        },
        {
            "pregunta": "¬øA qu√© se debe la emisi√≥n de humos visibles por el tubo de escape?",
            "opciones": [
            "Esta quemando bien el combustible.",
            "Mala combusti√≥n del motor.",
            "Tubo de escape roto.",
            "Falta de aceite."
            ],
            "correcta": 1
        },
        {
            "pregunta": "¬øQu√© significa que un neum√°tico est√© 're-dibujado'?",
            "opciones": [
                "Que evidencie profundizaciones de los surcos en la banda de rodamiento.",
                "Que haya perdido sus condiciones de adherencia el pavimento.",
                "Que muestra alteraciones en su √≠ndice de carga."
            ],
            "correcta": 0
        },
        {
            "pregunta": "¬øPor qu√© los neum√°ticos deben mantenerse a la presi√≥n indicada por el fabricante?",
            "opciones": [
                "Para no desgastar el motor.",
                "Para ayudar a evitar que el autom√≥vil se roncee.",
                "Para que el veh√≠culo se mantenga a la altura correcta sobre la v√≠a."
            ],
            "correcta": 1
        },
        {
            "pregunta": "¬øCu√°l es la funci√≥n de los frenos ABS?",
            "opciones": [
                "Evitar que las ruedas se bloqueen cuando se frena.",
                "Alivianar la fuerza ejercida sobre el pedal de freno.",
                "Dar mayor potencia de frenado a las ruedas.",
                "Complementar la operaci√≥n de la transmisi√≥n autom√°tica."
            ],
            "correcta": 0
        },
        {
            "pregunta": "¬øDe qu√© forma se calcula la distancia de reacci√≥n?",
            "opciones": [
                "Multiplicando por tres la primera cifra de la velocidad.",
                "Multiplicando por cuatro la primera cifra de la velocidad.",
                "Multiplicando por cinco la primera cifra de la velocidad."
            ],
            "correcta": 0
        },
        {
            "pregunta": "¬øCon qu√© l√≠quido debemos rellenar la bater√≠a si esta se encuentra con un bajo nivel de l√≠quido?",
            "opciones": [
                "Agua destilada",
                "L√≠quido refrigerante",
                "Bicarbonato con agua",
                "Agua de la llave"
            ],
            "correcta": 0
        },
        {
            "pregunta": "En caso de un accidente vehicular, ¬øel seguro obligatorio de accidentes personales cubre los da√±os a los veh√≠culos involucrados?",
            "opciones": [
                "No, pues solo ampara los riesgos de muerte y lesiones de las personas a consecuencia del accidente.",
                "S√≠, hasta un 25% de los da√±os si se deja constancia en la polic√≠a.",
                "S√≠, hasta un 50% de los da√±os si se deja constancia en la polic√≠a."
            ],
            "correcta": 0
        },
        {
            "pregunta": "Al conducir en la oscuridad, sus posibilidades de descubrir un obst√°culo dependen de...",
            "opciones": [
                "La hora.",
                "El estado del camino.",
                "La potencia y ajuste de sus luces."
            ],
            "correcta": 2
        },
        {
            "pregunta": "Cuando abandonamos una autopista, ¬øes probable que percibamos que nuestra velocidad es...?",
            "opciones": [
                "Menor que la real a la que circulamos.",
                "Igual a la real a la que circulamos.",
                "Mayor que la real a la que circulamos."
            ],
            "correcta": 0
        }

    ];

    let preguntasMezcladas = [];

    

    // Funci√≥n para mezclar las preguntas
    function mezclar(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]]; // Intercambiar elementos
        }
        return array;
    }


    function validarRespuestas() {
        let correctas = 0;
        let incorrectas = 0;

        const contenedorPreguntas = document.getElementById("preguntas").children;

        Array.from(contenedorPreguntas).forEach((divPregunta, index) => {
            const opciones = document.getElementsByName(`pregunta${index}`);
            let seleccionada = -1;

            for (let i = 0; i < opciones.length; i++) {
                if (opciones[i].checked) {
                    seleccionada = parseInt(opciones[i].value);
                    break;
                }
            }

            const resultado = document.createElement("p");
            if (seleccionada === preguntasMezcladas[index].correcta) {
                resultado.textContent = "Respuesta correcta";
                resultado.className = "correcta resultado";
                correctas++;
            } else {
                resultado.textContent = "Respuesta incorrecta";
                resultado.className = "incorrecta resultado";
                incorrectas++;

                if (opciones[preguntasMezcladas[index].correcta]) {
                    opciones[preguntasMezcladas[index].correcta].parentElement.classList.add("respuesta-correcta");
                }
            }

            divPregunta.appendChild(resultado);
        });

        // Mostrar los resultados finales
        const contenedorResultados = document.getElementById("resultados");
        contenedorResultados.innerHTML = `
            <p class="correcta">Respuestas correctas: ${correctas}</p>
            <p class="incorrecta">Respuestas incorrectas: ${incorrectas}</p>
        `;

        // Actualizar el icono de la cara seg√∫n el resultado
        actualizarIconoCara(correctas, preguntasMezcladas.length, contenedorResultados);
    }

    function actualizarIconoCara(correctas, total, contenedor) {
        let carita = '';
        if (correctas === total) {
            carita = generarFraseRomantica() + ' üòä'; // Todas correctas
        } else if (correctas > 0) {
            carita = '=/'; // Algunas correctas
        } else {
            carita = 'üòû'; // Ninguna correcta
        }
        const caritaResultado = document.createElement("p");
        caritaResultado.style.fontSize = "24px";
        caritaResultado.textContent = `Resultado: ${carita}`;
        contenedor.appendChild(caritaResultado);
    }

    const sujetos = [
    "Tu sonrisa",
    "Tus ojos",
    "Tu voz",
    "Tu presencia",
    "Tu risa",
    "Tu mirada",
    "Tu alma",
    "Tu ser",
    "Tu dulzura",
    "Tu ternura"
    ];

    const verbos = [
        "ilumina",
        "alegra",
        "conquista",
        "inspira",
        "embellece",
        "completa",
        "enriquece",
        "colorea",
        "enciende",
        "transforma"
    ];

    const adverbios = [
        "profundamente",
        "eternamente",
        "infinitamente",
        "sinceramente",
        "apasionadamente",
        "dulcemente",
        "intensamente",
        "ardientemente",
        "inexplicablemente",
        "maravillosamente"
    ];

    const complementos = [
        "mi coraz√≥n",
        "mi alma",
        "mi mundo",
        "mi vida",
        "mis d√≠as",
        "mis noches",
        "mis sue√±os",
        "mis pensamientos",
        "mi existencia",
        "mi universo"
    ];

    const adjetivos = [
        "hermoso",
        "maravilloso",
        "incre√≠ble",
        "m√°gico",
        "especial",
        "√∫nico",
        "radiante",
        "espl√©ndido",
        "sublime",
        "encantador"
    ];

    function generarFraseRomantica() {
        const sujeto = sujetos[Math.floor(Math.random() * sujetos.length)];
        const verbo = verbos[Math.floor(Math.random() * verbos.length)];
        const adverbio = adverbios[Math.floor(Math.random() * adverbios.length)];
        const complemento = complementos[Math.floor(Math.random() * complementos.length)];
        const adjetivo = adjetivos[Math.floor(Math.random() * adjetivos.length)];
        return `${sujeto} ${verbo} ${adverbio} ${complemento}`;
    }





    // Funci√≥n para cargar el n√∫mero de preguntas seleccionadas
    function cargarPreguntas() {
        const selectElement = document.getElementById("numPreguntas");
        const numPreguntasSeleccionadas = selectElement.value === "todas" ? preguntas.length : parseInt(selectElement.value);

        // Mezclar y seleccionar las primeras 'numPreguntasSeleccionadas' preguntas
        preguntasMezcladas = mezclar([...preguntas]).slice(0, numPreguntasSeleccionadas);

        // Limpiar el contenedor de preguntas antes de cargar nuevas
        const contenedorPreguntas = document.getElementById("preguntas");
        contenedorPreguntas.innerHTML = ""; 

        // Generar el cuestionario con el n√∫mero de preguntas seleccionadas
        preguntasMezcladas.forEach((pregunta, index) => {
            const divPregunta = document.createElement("div");
            divPregunta.className = "pregunta";
            divPregunta.innerHTML = `<p><strong style='color:black;font-weight:bold'>${index + 1}:</strong> ${pregunta.pregunta}</p>`;

            pregunta.opciones.forEach((opcion, i) => {
                const opcionHtml = `
                    <label>
                        <input type="radio" name="pregunta${index}" value="${i}">
                        ${opcion}
                    </label><br>
                `;
                divPregunta.innerHTML += opcionHtml;
            });

            contenedorPreguntas.appendChild(divPregunta);
        });
    }

    // Ejecutar la funci√≥n al cargar la p√°gina para que el cuestionario se cargue seg√∫n el valor predeterminado del combobox
    window.onload = cargarPreguntas;

</script>

</body>
</html>
